!!!
%html
	%head
		%title
			Oak Project Management - #{content_for(:title) || "Foo"}
		%meta{"http-equiv" => "Content-Type", content: "text/html; charset=utf-8"}/
		%meta{name: 'viewport', content: 'width=device-width, initial-scale=1.0'}
		/[if lt IE 9]
			%script{src: "http://html5shim.googlecode.com/svn/trunk/html5.js", type: "text/javascript"}
		= stylesheet_link_tag "application"
		= javascript_include_tag 'application'
		= csrf_meta_tag
		= yield(:head)

	%body
		.navbar.navbar-fixed-top
			.navbar-inner
				.container-fluid
					%a.btn.btn-navbar{"data-target" => ".nav-collapse", "data-toggle" => "collapse"}
						%span.icon-bar
						%span.icon-bar
						%span.icon-bar
					= link_to 'Oak Project Management', root_path, { class: 'brand' }
					.nav-collapse
						.pull-left
							%ul.nav
								%li= link_to 'Users', users_path
								%li.divider-vertical
								%li= link_to 'Projects'
								%li= link_to 'Customers'
								%li= link_to 'Login', login_path unless logged_in?
						- if logged_in?
							.pull-right
								%ul.nav
									%li.dropdown
										= link_to '#', :class => 'dropdown-toggle', data: { toggle: 'dropdown' } do
											= current_user.username
											%b.caret
										%ul.dropdown-menu
											%li= link_to 'Profile', current_user
											%li= link_to 'Logout', logout_path
									%li.divider-vertical
						
		.container-fluid
			- flash.each do |name, msg|
				%div{class: ["alert", "alert-#{name == :notice && 'success' || 'error'}"] }
					%a.close{data: { dismiss: 'alert' } } Ã—
					= msg
			.row-fluid
				.span3
					%h2= yield(:title) || "Untitled"
				.span9= yield
